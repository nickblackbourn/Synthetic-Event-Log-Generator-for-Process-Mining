###############################################################
# Order-to-Cash process for B2B sales
# Scenario: A B2B company processes customer orders with credit checks, picking, packing, shipping, invoicing, and payment. Deviations and variants illustrate real-world complexity for process mining analysis.

Context: Order-to-Cash process for B2B sales


Activities:
Receive Order
Check Credit
Approve Order
Order Change Requested
Order Change Approved
Re-pick Items
Re-pack Items
Pick Items
Pack Items
Partial Shipment
Notify Customer
Backorder Created
Ship Backorder
Ship Order
Send Invoice
Payment Reminder Sent
Late Payment
Apply Late Fee
Receive Payment
Complaint Received
Return Processed
Refund Issued
VIP Approval
Gift Packaging

# Deviations (with plausible business logic)
# - Late Payment: Customer pays invoice late (after Send Invoice)
# - Order Change: Customer requests change after approval but before picking
# - Partial Shipment: Only part of the order is shipped (after picking)

# Multi-step deviations (inserted as a sequence)
Deviations:
Order Change: 0.10 | after=Approve Order | steps=Order Change Requested,Order Change Approved,Re-pick Items,Re-pack Items
Partial Shipment: 0.05 | after=Pack Items | steps=Partial Shipment,Notify Customer,Backorder Created,Ship Backorder
Late Payment: 0.15 | after=Send Invoice | steps=Payment Reminder Sent,Late Payment,Apply Late Fee

# Case-level attributes
CaseAttributes:
CustomerType: New, Returning, VIP
Region: North, South, East, West

# Event-level attributes
EventAttributes:
Resource: Alice, Bob, Carol, Dave
Channel: Email, Phone, Web

# Variants (showing process diversity)
# - Standard: Full process with credit check
# - No Credit Check: Trusted customers skip credit check
# - Express: Fastest route, minimal steps

# More substantial and interesting variants
Variants:
Standard: Receive Order, Check Credit, Approve Order, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment | 0.6
VIP: Receive Order, Check Credit, Approve Order, VIP Approval, Gift Packaging, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment | 0.1
Express: Receive Order, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment | 0.1
With Return: Receive Order, Check Credit, Approve Order, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment, Complaint Received, Return Processed, Refund Issued | 0.2

# Activity durations (in minutes)

DefaultDuration: 1440  # 1 day per activity
ActivityDurations:
Receive Order: 60
Check Credit: 240
Approve Order: 120
Order Change Requested: 60
Order Change Approved: 60
Re-pick Items: 120
Re-pack Items: 90
Pick Items: 180
Pack Items: 120
Partial Shipment: 60
Notify Customer: 30
Backorder Created: 30
Ship Backorder: 360
Ship Order: 360
Send Invoice: 60
Payment Reminder Sent: 30
Late Payment: 1440
Apply Late Fee: 15
Receive Payment: 4320  # 3 days
Complaint Received: 30
Return Processed: 240
Refund Issued: 60
VIP Approval: 60
Gift Packaging: 30

# Deviation durations (impact in minutes)

# DeviationDurations are now handled by the steps above (each step has its own duration)

# DemoPatterns:
#   # Bottleneck: Pack Items takes longer for VIP customers
#   # Rework: Pick Items repeated if Order Change occurs
