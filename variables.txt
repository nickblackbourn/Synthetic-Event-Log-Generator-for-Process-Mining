########################################################################################################
# YAML configuration for Synthetic Event Log Generator (Order-to-Cash process for B2B sales)
#
# This file defines the process model, variants, deviations, activities, durations, and attributes
# for generating realistic synthetic event logs for process mining analysis.
#
# Sections:
#   - context:      High-level process description
#   - activities:   List of all possible activities
#   - activity_durations: Duration (in minutes) for each activity
#   - case_attributes:    Case-level attributes and possible values
#   - event_attributes:   Event-level attributes and possible values
#   - variants:     Main process variants (with frequencies)
#   - deviations:   Deviations (with business logic, anchors, and steps)
#
# Notes:
#   - All lists and mappings are YAML-compliant for easy parsing in Python (e.g., with PyYAML)
#   - Comments explain business logic and configuration intent
########################################################################################################

context: Order-to-Cash process for B2B sales

activities:
  # Core process activities
  - Receive Order
  - Check Credit
  - Approve Order
  - Order Change Requested
  - Order Change Approved
  - Re-pick Items
  - Re-pack Items
  - Pick Items
  - Pack Items
  - Partial Shipment
  - Notify Customer
  - Backorder Created
  - Ship Backorder
  - Ship Order
  - Send Invoice
  - Payment Reminder Sent
  - Late Payment
  - Apply Late Fee
  - Receive Payment
  - Complaint Received
  - Return Processed
  - Refund Issued
  - VIP Approval
  - Gift Packaging
  # Activities for deviations and special cases
  - Credit Check Escalated
  - Manual Review
  - Order Cancellation
  - Express Handling
  - Priority Picking
  - Priority Packing

activity_durations:
  # Default duration (in minutes) if not specified below
  Default: 1440  # 1 day per activity
  Receive Order: 60
  Check Credit: 240
  Approve Order: 120
  Order Change Requested: 60
  Order Change Approved: 60
  Re-pick Items: 120
  Re-pack Items: 90
  Pick Items: 180
  Pack Items: 120
  Partial Shipment: 60
  Notify Customer: 30
  Backorder Created: 30
  Ship Backorder: 360
  Ship Order: 360
  Send Invoice: 60
  Payment Reminder Sent: 30
  Late Payment: 1440
  Apply Late Fee: 15
  Receive Payment: 4320  # 3 days
  Complaint Received: 30
  Return Processed: 240
  Refund Issued: 60
  VIP Approval: 60
  Gift Packaging: 30
  Credit Check Escalated: 60
  Manual Review: 180
  Order Cancellation: 30
  Express Handling: 30
  Priority Picking: 90
  Priority Packing: 60

case_attributes:
  CustomerType: [New, Returning, VIP]
  Region: [North, South, East, West]

event_attributes:
  Resource: [Alice, Bob, Carol, Dave]
  Channel: [Email, Phone, Web]

variants:
  # Main process variants (with frequencies)
  - name: Standard
    sequence: [Receive Order, Check Credit, Approve Order, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment]
    frequency: 0.6
  - name: VIP
    sequence: [Receive Order, Check Credit, Approve Order, VIP Approval, Gift Packaging, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment]
    frequency: 0.1
  - name: Express
    sequence: [Receive Order, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment]
    frequency: 0.1
  - name: With Return
    sequence: [Receive Order, Check Credit, Approve Order, Pick Items, Pack Items, Ship Order, Send Invoice, Receive Payment, Complaint Received, Return Processed, Refund Issued]
    frequency: 0.2

deviations:
  # Each deviation includes business logic, anchor activity, and steps
  - name: Order Change
    probability: 0.10
    after: Approve Order
    steps: [Order Change Requested, Order Change Approved, Re-pick Items, Re-pack Items]
    description: Customer requests change after approval but before picking
  - name: Partial Shipment
    probability: 0.05
    after: Pack Items
    steps: [Partial Shipment, Notify Customer, Backorder Created, Ship Backorder]
    description: Only part of the order is shipped after packing
  - name: Late Payment
    probability: 0.15
    after: Send Invoice
    steps: [Payment Reminder Sent, Late Payment, Apply Late Fee]
    description: Customer pays invoice late
  - name: Credit Check Escalation
    probability: 0.07
    after: Check Credit
    steps: [Credit Check Escalated, Manual Review, Approve Order]
    description: Customer fails automated check, requires manual review
  - name: Customer Cancellation
    probability: 0.03
    after: Approve Order
    steps: [Order Cancellation, Refund Issued]
    description: Customer cancels order after approval
  - name: Express Handling
    probability: 0.08
    after: Receive Order
    steps: [Express Handling, Priority Picking, Priority Packing]
    description: Customer pays for expedited handling

########################################################################################################
